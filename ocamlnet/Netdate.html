<div class="ocaml_toplevel_module"><div class="info">Support for common date/time parsing and formatting.
 Many routines refer to the epoch, which for Unix is 
 00:00:00 UTC, January 1, 1970. Timestamps given as
 &quot;seconds since the epoch&quot; ignore leap seconds.</div>
<pre><code><span class="TYPEt"><span class="keyword">type</span> t</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.year">year</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">complete year</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.month">month</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">1..12</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.day">day</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">1..31</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.hour">hour</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">0..23</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.minute">minute</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">0..59</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.second">second</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">0..60 (60=leapsecond)</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.nanos">nanos</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">nanoseconds, new since Ocamlnet-3.5</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.zone">zone</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">in minutes; 60 = UTC+0100</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.week_day">week_day</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">0 = sunday; -1 if not given</div></td></tr><tr><td>}</td></tr></table>
<pre><span class="VALlocalzone"><span class="keyword">val</span> localzone</span> : <code class="type">int</code></pre><div class="info"><div class="info">The offset in minutes for the local time zone from the UTC.
      This is the zone from the time when the program was started.
      For long-running programs, it is possible that the zone changes
      when daylight savings become effective or non-effective.</div></div>
<pre><span class="VALlocalzone_nodst"><span class="keyword">val</span> localzone_nodst</span> : <code class="type">int</code></pre><div class="info"><div class="info">Returns the offset for the local time zone for the case that
      daylight savings are not effective.</div></div>
<pre><span class="VALget_localzone"><span class="keyword">val</span> get_localzone</span> : <code class="type">unit -&gt; int</code></pre><div class="info"><div class="info">Retrieves the current offset for the local time zone, taking
      daylight savings into account.</div></div>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; ?nanos:int -&gt; float -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a></code></pre><div class="info"><div class="info">Convert the time (seconds since the epoch) to a date/time record <br/>      The <code class="code">nanos</code> are added to the float as nanoseconds.<br/>      If <code class="code">zone</code> is set this zone is taken. Otherwise, if
      <code class="code">localzone</code> is set, the local timezone is used that is valid
      at the requested time. Otherwise, UTC is used.<br/>      Note that <code class="code">create ~localzone:true t</code> is different from
      <code class="code">create ~zone:(get_localzone()) t</code> because the latter assumes
      the timezone that is in effect when the function is called, and not 
      the timezone at the time <code class="code">t</code>.</div></div>
<pre><code><span class="TYPElocalization"><span class="keyword">type</span> localization</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.full_day_names">full_day_names</span> : <code class="type">string array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains the name of the week day <code class="code">k</code> (0=Sunday)</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.abbr_day_names">abbr_day_names</span> : <code class="type">string array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains the abbreviated name of the week day <code class="code">k</code>
            (0=Sunday)</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.parsed_day_names">parsed_day_names</span> : <code class="type">string list array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains a list of all possible names of the week
            day <code class="code">k</code>. The list includes full and abbreviated names, but can
            also contain any other allowed name (aliases). The names here
            are in lowercase characters.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.full_month_names">full_month_names</span> : <code class="type">string array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains the name of the month day <code class="code">k</code> (0=January)</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.abbr_month_names">abbr_month_names</span> : <code class="type">string array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains the abbreviated name of the month day <code class="code">k</code> 
            (0=January)</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.parsed_month_names">parsed_month_names</span> : <code class="type">string list array</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Element <code class="code">k</code> contains a list of all possible names of the month
            <code class="code">k</code>. The list includes full and abbreviated names, but can
            also contain any other allowed name (aliases). The names here
            are in lowercase characters.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.timezone_names">timezone_names</span> : <code class="type">(string * int * bool) list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">A list of pairs <code class="code">(name,offset,isdst)</code> of timezones. The offset is
            in minutes.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.am_particle">am_particle</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">A particle for &quot;AM&quot;</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.pm_particle">pm_particle</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">A particle for &quot;PM&quot;</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.d_format">d_format</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Format string for date according to the locale</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.t_format">t_format</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Format string for time according to the locale</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.d_t_format">d_t_format</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Format string for date and time according to the locale</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.t_format_ampm">t_format_ampm</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Format string for time, using am and pm, according to the locale</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTlocalization.char_encoding">char_encoding</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The character encoding of this locale</div></td></tr><tr><td>}</td></tr></table>
<pre><span class="TYPEcompiled_localization"><span class="keyword">type</span> compiled_localization</span> </pre>
<pre><span class="VALposix_l9n"><span class="keyword">val</span> posix_l9n</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=localization">localization</a></code></pre><div class="info"><div class="info">The standard POSIX localization (English names)</div></div>
<pre><span class="VALl9n_from_locale"><span class="keyword">val</span> l9n_from_locale</span> : <code class="type">string -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=localization">localization</a></code></pre><div class="info"><div class="info">Retrieves the localization from the passed locale (use &quot;&quot; for the
      standard locale). Timezone names are not provided by the locale<br/>      This function is not available on Windows (the POSIX localization
      is always returned).</div></div>
<pre><span class="VALcompile_l9n"><span class="keyword">val</span> compile_l9n</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=localization">localization</a> -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a></code></pre><div class="info"><div class="info">Preprocess the localization data for faster parsing and printing</div></div>
<pre><span class="VALparse"><span class="keyword">val</span> parse</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; ?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt; string -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a></code></pre><div class="info"><div class="info">Parse a string and return a date/time record.<br/>      The following particles are recognized (by example):<ul><li>Date: <code class="code">1971/06/22</code></li><li>Date: <code class="code">06/22/1971</code></li><li>Date: <code class="code">1971-06-22</code></li><li>Date: <code class="code">22-June-1971</code></li><li>Date: <code class="code">22.06.1971</code></li><li>Date: <code class="code">June 22, 1971</code></li><li>Date: <code class="code">22 June 1971</code></li><li>Date (2 digit year): <code class="code">06/22/71</code></li><li>Date (2 digit year): <code class="code">22.06.71</code></li><li>Date (2 digit year): <code class="code">71-06-22</code></li><li>Date (2 digit year): <code class="code">22-June-71</code></li><li>Month names (<code class="code">June</code>, <code class="code">Jun</code>)</li><li>Weekday names (<code class="code">Monday</code>, <code class="code">Mon</code>)</li><li>Time: <code class="code">14:55</code></li><li>Time: <code class="code">14:55:28</code></li><li>Time: <code class="code">14:55:28.6754</code>   (the fractional part is not returned)</li><li>Time may be preceded by <code class="code">T</code></li><li>Time zone: identifiers like <code class="code">UTC</code>, <code class="code">CET</code>, or <code class="code">Z</code></li><li>Time zone: <code class="code">+01:00</code>, <code class="code">-01:00</code>, only following time</li><li>Time zone: <code class="code">+0100</code>, <code class="code">-0100</code>, only following time</li></ul>      Years must have 2 or 4 digits. 2-digit years &gt;= 70 are interpreted
      as <code class="code">1900+x</code>. 2-digit years &lt; 70 are interpreted as <code class="code">2000+x</code>.
      Support for 2-digit years will be removed in a future version
      of Ocamlnet. (Support for 3-digit years is already removed in
      Ocamlnet 3.0.)<br/>      The names of months and weekdays are recognized that are configured
      with the <code class="code">l9n</code> argument. By default, English names are recognized.<br/>      A date must be given. Time, time zones, and weekdays are optional.
      A missing time is reported as &quot;00:00:00&quot;. A missing weekday is
      reported by setting <code class="code">week_day=(-1)</code>. A missing time zone is 
      reported by setting <code class="code">zone</code> to the passed default (which is determined
      from the <code class="code">zone</code> and <code class="code">localzone</code> arguments as for <code class="code">create</code>).<br/>      It is not checked whether the parsed numbers make sense
      (e.g. whether months are between 1 and 12).<br/>      Date/time strings as defined in RFC 3339 are supported since
      Ocamlnet 3.0.</div></div>
<pre><span class="VALsince_epoch"><span class="keyword">val</span> since_epoch</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; float</code></pre><div class="info"><div class="info">Convert a date/time record into the time (seconds since the epoch),
      rounded down to the next integral number.</div></div>
<pre><span class="VALsince_epoch_timespec"><span class="keyword">val</span> since_epoch_timespec</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; float * int</code></pre><div class="info"><div class="info">Returns the seconds since the epoch as pair <code class="code">(seconds,nanos)</code></div></div>
<pre><span class="VALsince_epoch_approx"><span class="keyword">val</span> since_epoch_approx</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; float</code></pre><div class="info"><div class="info">Same, but the nanos are added to the seconds. The precision of
      floats is not sufficient to represent this precisely, so the
      result is only an approximation.</div></div>
<pre><span class="VALweek_day"><span class="keyword">val</span> week_day</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; int</code></pre><div class="info"><div class="info">Returns the week day. If the <code class="code">week_day</code> field is (-1) the week day
      is computed.</div></div>
<pre><span class="VALyear_day"><span class="keyword">val</span> year_day</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; int</code></pre><div class="info"><div class="info">Returns the year day (range 0 to 365)</div></div>
<pre><span class="VALiso8601_week_pair"><span class="keyword">val</span> iso8601_week_pair</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; int * int</code></pre><div class="info"><div class="info">Returns <code class="code">(week_number, year)</code> for the ISO-8601 definition of weeks.
      The week starts with Monday, and has numbers 1-53. A week is considered
      to be part of the year into which four or more days fall.</div></div>
<pre><span class="VALparse_epoch"><span class="keyword">val</span> parse_epoch</span> : <code class="type">?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt; ?localzone:bool -&gt; ?zone:int -&gt; string -&gt; float</code></pre><div class="info"><div class="info">Parse a string and return the time (integral seconds since the epoch)</div></div>
<pre><span class="VALparse_epoch_timespec"><span class="keyword">val</span> parse_epoch_timespec</span> : <code class="type">?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt;
?localzone:bool -&gt; ?zone:int -&gt; string -&gt; float * int</code></pre><div class="info"><div class="info">Parse a string and return the time (seconds and nanos since the epoch)</div></div>
<pre><span class="VALparse_epoch_approx"><span class="keyword">val</span> parse_epoch_approx</span> : <code class="type">?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt; ?localzone:bool -&gt; ?zone:int -&gt; string -&gt; float</code></pre><div class="info"><div class="info">Parse a string and return the time (approximate seconds since the epoch)</div></div>
<pre><span class="VALformat_to"><span class="keyword">val</span> format_to</span> : <code class="type">?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt;
<a href="?package=ocamlnet&amp;module=Netchannels&amp;type=out_obj_channel">Netchannels.out_obj_channel</a> -&gt; fmt:string -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Format a date/time record according to the format string and outputs
 the resulting string to the channel.<br/> The format string consists of zero or more conversion specifications
 and ordinary characters.  All ordinary characters are output directly
 to the channel.  A conversion specification consists of the '%'
 character and one other character.<br/> The conversion specifications are:<br/>  - <code class="code">%A</code>: full weekday name.<ul><li><code class="code">%a</code>: abbreviated weekday name.</li><li><code class="code">%B</code>: full month name.</li><li><code class="code">%b</code>: abbreviated month name.</li><li><code class="code">%C</code>: (year / 100) as an integer; single digits are preceded by a zero.</li><li><code class="code">%c</code>: the preferred date+time representation of <code class="code">l9n</code></li><li><code class="code">%D</code>: equivalent to <code class="code">&quot;%m/%d/%y&quot;</code>.</li><li><code class="code">%d</code>: day of the month as an integer (01-31); single digits are
          preceded by a zero.</li><li><code class="code">%e</code>: day of the month as an integer (1-31).</li><li><code class="code">%F</code>: equivalent to <code class="code">&quot;%Y-%m-%d&quot;</code> (ISO 8601)</li><li><code class="code">%G</code>: the year of the week according to the ISO-8601 week definition</li><li><code class="code">%g</code>: same as %G but uses a two-digit year</li><li><code class="code">%H</code>: hour (24-hour clock) as an integer (00-23).</li><li><code class="code">%h</code>: the same as %b.</li><li><code class="code">%I</code>: hour (12-hour clock) as an integer (01-12).</li><li><code class="code">%j</code>: day of the year as an integer (001-366).</li><li><code class="code">%k</code>: hour (24-hour clock) as an integer (0-23);
          single digits are preceded by a blank.</li><li><code class="code">%l</code>: hour (12-hour clock) as an integer (1-12);
          single digits are preceded by a blank.</li><li><code class="code">%M</code>: minute as an integer (00-59).</li><li><code class="code">%m</code>: month as an integer (01-12).</li><li><code class="code">%n</code>: a newline.</li><li><code class="code">%p</code>: &quot;AM&quot; or &quot;PM&quot; as defined in <code class="code">l9n</code>, in uppercase</li><li><code class="code">%P</code>: &quot;am&quot; or &quot;pm&quot; as defined in <code class="code">l9n</code>, in lowercase</li><li><code class="code">%R</code>: equivalent to <code class="code">&quot;%H:%M&quot;</code>.</li><li><code class="code">%r</code>: the time in am/pm notation according to <code class="code">l9n</code></li><li><code class="code">%S</code>: second as an integer (00-60). This format accepts a precision
        argument, e.g. <code class="code">%.3S</code> to print the second with three digits after the
        dot.</li><li><code class="code">%s</code>: number of seconds since the epoch</li><li><code class="code">%T</code>: equivalent to <code class="code">&quot;%H:%M:%S&quot;</code>.</li><li><code class="code">%t</code>: a tab.</li><li><code class="code">%U</code>: week number of the year (Sunday as the first day
          of the week) as an integer (00-53).</li><li><code class="code">%u</code>  weekday (Monday as the first day of the week) as
          an integer (1-7).</li><li><code class="code">%V</code>: week number of the year (ISO-8601 definition, use together with
          <code class="code">%G</code> or <code class="code">%g</code></li><li><code class="code">%W</code>: week number of the year (Monday as the first day
          of the week) as an integer (00-53).</li><li><code class="code">%w</code>: weekday (Sunday as the first day of the week) as
          an integer (0-6).</li><li><code class="code">%X</code>: representation of the time according to <code class="code">l9n</code></li><li><code class="code">%x</code>: representation of the date according to <code class="code">l9n</code></li><li><code class="code">%Y</code>: year with century as an integer.</li><li><code class="code">%y</code>: year without century as an integer (00-99).</li><li><code class="code">%z</code>: time zone offset from UTC; a leading plus sign
        stands for east of UTC, a minus sign for west of UTC, hours and
        minutes follow with two digits each and no delimiter between them
        (common form for RFC 822 date headers).</li><li><code class="code">%Z</code>: same as <code class="code">%z</code></li><li><code class="code">%:z</code>: time zone with colon, e.g. +05:00 (new since Ocamlnet 3)</li><li><code class="code">%%</code>: a `%' character.</li></ul> If <code class="code">l9n</code> is not passed, the default is the POSIX localization
 (English names).</div></div>
<pre><span class="VALformat"><span class="keyword">val</span> format</span> : <code class="type">?l9n:<a href="?package=ocamlnet&amp;module=Netdate&amp;type=compiled_localization">compiled_localization</a> -&gt; fmt:string -&gt; <a href="?package=ocamlnet&amp;module=Netdate&amp;type=t">t</a> -&gt; string</code></pre><div class="info"><div class="info">Format a date/time record as a string</div></div>
<pre><span class="VALmk_date"><span class="keyword">val</span> mk_date</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; ?nanos:int -&gt; fmt:string -&gt; float -&gt; string</code></pre><div class="info"><div class="info">Format the seconds (plus nanos if present) as a string</div></div>
<pre><span class="VALmk_mail_date"><span class="keyword">val</span> mk_mail_date</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; float -&gt; string</code></pre><div class="info"><div class="info">Convert the time (seconds since the epoch) to a date string that
 conforms to RFC 1123 (which updates RFC 822).<br/> Example: <code class="code">&quot;Sun, 06 Nov 1994 08:49:37 -0500&quot;</code>.</div></div>
<pre><span class="VALmk_usenet_date"><span class="keyword">val</span> mk_usenet_date</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; float -&gt; string</code></pre><div class="info"><div class="info">Convert the time (seconds since the epoch) to a date string that
 conforms to RFC 1036 (which obsoletes RFC 850).<br/> Example: <code class="code">&quot;Sunday, 06-Nov-94 08:49:37 -0500&quot;</code>.<br/> Note that this format has only two digits for the year.</div></div>
<pre><span class="VALmk_internet_date"><span class="keyword">val</span> mk_internet_date</span> : <code class="type">?localzone:bool -&gt; ?zone:int -&gt; ?digits:int -&gt; float -&gt; string</code></pre><div class="info"><div class="info">Convert the time (seconds since the epoch) to a date string that
 conforms to RFC 3339. This is the most modern format, and should
 be used if permitted by the network protocol. Pass in <code class="code">digits</code> the
 number of digits for the fractional part of seconds.<br/> Example: <code class="code">&quot;1996-12-19T16:39:57.89-08:00&quot;</code>.</div></div>
</div>