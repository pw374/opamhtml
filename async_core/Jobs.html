<div class="ocaml_toplevel_module"><div class="info">Queues of jobs to run, one at each priority level.</div>
<pre><span class="TYPEt"><span class="keyword">type</span> t</span> </pre>
<div class="ocaml_include ident" path="?package=core&amp;module=Std.Invariant.S" items="[]"><pre><span class="keyword">include</span> <code class="type"><code class="code"><a href="?package=core&amp;module=Std.Invariant.S">Core.Std.Invariant.S</a></code> with type t := <a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a></code></pre></div>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">unit -&gt; <a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a></code></pre>
<pre><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; int</code></pre><div class="info"><div class="info"><code class="code">length t</code> returns the number of waiting jobs</div></div>
<pre><span class="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; bool</code></pre><div class="info"><div class="info"><code class="code">is_empty t</code> returns true if there are no waiting jobs.</div></div>
<pre><span class="VALadd"><span class="keyword">val</span> add</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; <a href="?package=async_core&amp;module=Priority&amp;type=t">Priority.t</a> -&gt; <a href="?package=async_core&amp;module=Job&amp;type=t">Job.t</a> -&gt; unit</code></pre>
<pre><span class="VALclear"><span class="keyword">val</span> clear</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">clear t</code> removes all jobs from <code class="code">t</code>.</div></div>
<pre><span class="VALstart_cycle"><span class="keyword">val</span> start_cycle</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt;
max_num_jobs_per_priority:<a href="?package=async_core&amp;module=Import.Max_num_jobs_per_priority_per_cycle&amp;type=t">Import.Max_num_jobs_per_priority_per_cycle.t</a> -&gt;
unit</code></pre><div class="info"><div class="info"><code class="code">start_cycle t ~max_num_jobs_per_priority</code> enables subsequent calls of <code class="code">run_all</code> to
    run up to <code class="code">max_num_jobs_per_priority</code> jobs of each priority level.</div></div>
<pre><span class="VALforce_current_cycle_to_end"><span class="keyword">val</span> force_current_cycle_to_end</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">force_current_cycle_to_end</code> sets the number of normal jobs allowed to run in this
    cycle to zero.  Thus, after the currently running job completes, the scheduler will
    switch to low priority jobs and then end the current cycle.</div></div>
<pre><span class="VALrun_all"><span class="keyword">val</span> run_all</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; (<a href="?package=async_core&amp;module=Job&amp;type=t">Job.t</a> -&gt; unit) -&gt; (unit, exn) <a href="?package=core&amp;module=Std.Result&amp;type=t">Core.Std.Result.t</a></code></pre><div class="info"><div class="info"><code class="code">run_all t f</code> removes jobs from <code class="code">t</code> one at a time and applies <code class="code">f</code> to them, stopping as
    soon as an unhandled exception is raised, or when no more jobs can be run at any
    priority, as per <code class="code">~max_num_jobs_per_priority</code>.</div></div>
<pre><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="?package=async_core&amp;module=Jobs&amp;type=t">t</a> -&gt; <a href="?package=sexplib&amp;module=Sexp&amp;type=t">Sexplib.Sexp.t</a></code></pre>
<div class="info"><div class="info"><code class="code">length t</code> returns the number of waiting jobs</div></div>
<div class="info"><div class="info"><code class="code">is_empty t</code> returns true if there are no waiting jobs.</div></div>
<div class="info"><div class="info"><code class="code">clear t</code> removes all jobs from <code class="code">t</code>.</div></div>
<div class="info"><div class="info"><code class="code">start_cycle t ~max_num_jobs_per_priority</code> enables subsequent calls of <code class="code">run_all</code> to
    run up to <code class="code">max_num_jobs_per_priority</code> jobs of each priority level.</div></div>
<div class="info"><div class="info"><code class="code">force_current_cycle_to_end</code> sets the number of normal jobs allowed to run in this
    cycle to zero.  Thus, after the currently running job completes, the scheduler will
    switch to low priority jobs and then end the current cycle.</div></div>
<div class="info"><div class="info"><code class="code">run_all t f</code> removes jobs from <code class="code">t</code> one at a time and applies <code class="code">f</code> to them, stopping as
    soon as an unhandled exception is raised, or when no more jobs can be run at any
    priority, as per <code class="code">~max_num_jobs_per_priority</code>.</div></div>
</div>