<div class="ocaml_toplevel_module"><div class="info">Common definitions used by binary protocol converters</div>
<div class="info"><div class="info"><h2 id="2_TITLE">Buffers</h2></div></div>
<pre><span class="TYPEpos"><span class="keyword">type</span> pos</span> = <code class="type">int</code></pre><div class="info"><div class="info">Position within buffers</div></div>
<pre><span class="TYPEpos_ref"><span class="keyword">type</span> pos_ref</span> = <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a> <a href="?package=ocaml&amp;module=Pervasives&amp;type=ref">Pervasives.ref</a></code></pre><div class="info"><div class="info">Reference to a position within buffers</div></div>
<pre><span class="TYPEbuf"><span class="keyword">type</span> buf</span> = <code class="type">(char, <a href="?package=ocaml&amp;module=Bigarray&amp;type=int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>, <a href="?package=ocaml&amp;module=Bigarray&amp;type=c_layout">Bigarray.c_layout</a>) <a href="?package=ocaml&amp;module=Bigarray.Array1&amp;type=t">Bigarray.Array1.t</a></code></pre><div class="info"><div class="info">Buffers</div></div>
<pre><span class="VALcreate_buf"><span class="keyword">val</span> create_buf</span> : <code class="type">int -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a></code></pre><div class="info"><div class="info"><code class="code">create_buf n</code> creates a buffer of size <code class="code">n</code>.</div></div>
<pre><span class="VALcheck_pos"><span class="keyword">val</span> check_pos</span> : <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">check_pos buf pos</code> <b>Raises</b> <code>Buffer_short</code> if position <code class="code">pos</code> exceeds
    the length of buffer <code class="code">buf</code>.<br/></div></div>
<pre><span class="VALcheck_next"><span class="keyword">val</span> check_next</span> : <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">check_next buf pos</code> <b>Raises</b> <code>Buffer_short</code> if the next position after
    <code class="code">pos</code> exceeds the length of buffer <code class="code">buf</code>.<br/></div></div>
<pre><span class="VALsafe_get_pos"><span class="keyword">val</span> safe_get_pos</span> : <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos_ref">pos_ref</a> -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a></code></pre><div class="info"><div class="info"><code class="code">safe_get_pos buf pos_ref</code> <b>Raises</b> <code>Buffer_short</code> if the position
    exceeds the length of the buffer.<br/> <b>Returns</b> the position referenced by
    <code class="code">pos_ref</code> within buffer <code class="code">buf</code>.</div></div>
<pre><span class="VALblit_string_buf"><span class="keyword">val</span> blit_string_buf</span> : <code class="type">?src_pos:int -&gt; string -&gt; ?dst_pos:int -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; len:int -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">blit_string_buf ?src_pos src ?dst_pos dst ~len</code> blits <code class="code">len</code>
    bytes of the source string <code class="code">src</code> starting at position <code class="code">src_pos</code>
    to buffer <code class="code">dst</code> starting at position <code class="code">dst_pos</code>. <b>Raises</b> <code>Invalid_argument</code> if the designated ranges are invalid.<br/></div></div>
<pre><span class="VALblit_buf_string"><span class="keyword">val</span> blit_buf_string</span> : <code class="type">?src_pos:int -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; ?dst_pos:int -&gt; string -&gt; len:int -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">blit_buf_string ?src_pos src ?dst_pos dst ~len</code> blits <code class="code">len</code>
    bytes of the source buffer <code class="code">src</code> starting at position <code class="code">src_pos</code>
    to string <code class="code">dst</code> starting at position <code class="code">dst_pos</code>. <b>Raises</b> <code>Invalid_argument</code> if the designated ranges are invalid.<br/></div></div>
<pre><span class="VALblit_buf"><span class="keyword">val</span> blit_buf</span> : <code class="type">?src_pos:int -&gt; src:<a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; ?dst_pos:int -&gt; dst:<a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; int -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">blit_buf ?src_pos ~src ?dst_pos ~dst len</code> blits <code class="code">len</code> bytes of the
    source buffer <code class="code">src</code> starting at position <code class="code">src_pos</code> to destination
    buffer <code class="code">dst</code> starting at position <code class="code">dst_pos</code>. <b>Raises</b> <code>Invalid_argument</code> if the designated ranges are invalid.<br/></div></div>
<div class="info"><div class="info"><h2 id="2_TITLE">Errors and exceptions</h2></div></div>
<pre><span class="EXCEPTIONBuffer_short"><span class="keyword">exception</span> Buffer_short</span></pre><div class="info"><div class="info">Buffer too short for read/write operation</div></div>
<pre><span class="EXCEPTIONNo_variant_match"><span class="keyword">exception</span> No_variant_match</span></pre><div class="info"><div class="info">Used internally for backtracking</div></div>
<div class="ocaml_module sig" name="ReadError"><pre><span class="keyword">module</span> <a href="?package=bin_prot&amp;module=Common.ReadError">ReadError</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_module_content">
<pre><code><span class="TYPEt"><span class="keyword">type</span> t</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Neg_int8"><span class="constructor">Neg_int8</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Negative integer was positive or zero</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Int_code"><span class="constructor">Int_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Unknown integer code while reading integer</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Int_overflow"><span class="constructor">Int_overflow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Overflow reading integer</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Nat0_code"><span class="constructor">Nat0_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Unknown integer code while reading natural number</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Nat0_overflow"><span class="constructor">Nat0_overflow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Overflow reading natural number</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Int32_code"><span class="constructor">Int32_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Unknown integer code while reading 32bit integer</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Int64_code"><span class="constructor">Int64_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Unknown integer code while reading 64bit integer</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Nativeint_code"><span class="constructor">Nativeint_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Unknown integer code while reading native integer</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Unit_code"><span class="constructor">Unit_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Illegal unit value</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Bool_code"><span class="constructor">Bool_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Illegal boolean value</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Option_code"><span class="constructor">Option_code</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Illegal option code</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.String_too_long"><span class="constructor">String_too_long</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">String too long</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Variant_tag"><span class="constructor">Variant_tag</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Untagged integer encoding for variant tag</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Array_too_long"><span class="constructor">Array_too_long</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Array too long</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Hashtbl_too_long"><span class="constructor">Hashtbl_too_long</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Hashtable too long</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Sum_tag"><span class="constructor">Sum_tag</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Illegal sum tag for given type</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Variant"><span class="constructor">Variant</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Illegal variant for given type</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Poly_rec_bound"><span class="constructor">Poly_rec_bound</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Attempt to read data bound through polymorphic record fields</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Variant_wrong_type"><span class="constructor">Variant_wrong_type</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Unexpected attempt to read variant with given non-variant type</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Silly_type"><span class="constructor">Silly_type</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info"><code class="code">Silly_type type_name</code> indicates unhandled but silly case
            where a type of the sort <code class="code">type 'a type_name = 'a</code> is used
            with a polymorphic variant as type parameter and included
            in another polymorphic variant type.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.Empty_type"><span class="constructor">Empty_type</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td><td class="typefieldcomment" align="left"><div class="info">Attempt to read data that corresponds to an empty type.</div></td></tr></table>
<pre><span class="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type"><a href="?package=bin_prot&amp;module=Common.ReadError&amp;type=t">t</a> -&gt; string</code></pre><div class="info"><div class="info"><code class="code">to_string err</code> <b>Returns</b> string representation of read error <code class="code">err</code>.</div></div></div></div>
<pre><span class="EXCEPTIONRead_error"><span class="keyword">exception</span> Read_error</span> <span class="keyword">of</span> <code class="type"><a href="?package=bin_prot&amp;module=Common.ReadError&amp;type=t">ReadError.t</a> * <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a></code></pre><div class="info"><div class="info"><code class="code">ReadError (err, err_pos)</code></div></div>
<pre><span class="EXCEPTIONRead_exc"><span class="keyword">exception</span> Read_exc</span> <span class="keyword">of</span> <code class="type">exn * <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a></code></pre><div class="info"><div class="info"><code class="code">ReadExc (exn, err_pos)</code></div></div>
<pre><span class="EXCEPTIONPoly_rec_write"><span class="keyword">exception</span> Poly_rec_write</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info"><div class="info"><code class="code">PolyRecWrite type</code> gets raised when the user attempts to write or
    estimate the size of a value of a type that is bound through a
    polymorphic record field in type definition <code class="code">type</code>.</div></div>
<pre><span class="EXCEPTIONEmpty_type"><span class="keyword">exception</span> Empty_type</span> <span class="keyword">of</span> <code class="type">string</code></pre><div class="info"><div class="info"><code class="code">EmptyType</code> gets raised when the user attempts to write or estimate
    the size of a value of an empty type, which would not make sense.</div></div>
<pre><span class="VALraise_read_error"><span class="keyword">val</span> raise_read_error</span> : <code class="type"><a href="?package=bin_prot&amp;module=Common.ReadError&amp;type=t">ReadError.t</a> -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a> -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">raise_read_error err pos</code></div></div>
<pre><span class="VALraise_read_exc"><span class="keyword">val</span> raise_read_exc</span> : <code class="type">exn -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=pos">pos</a> -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">raise_read_exc exc pos</code></div></div>
<pre><span class="VALraise_concurrent_modification"><span class="keyword">val</span> raise_concurrent_modification</span> : <code class="type">string -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">raise_concurrent_modification loc</code> <b>Raises</b> <code>Failure</code> if a binary writer
    detects a concurrent change to the underlying data structure.<br/></div></div>
<pre><span class="VALarray_bound_error"><span class="keyword">val</span> array_bound_error</span> : <code class="type">unit -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">array_bound_error ()</code></div></div>
<div class="info"><div class="info"><h2 id="2_TITLE">Bigarrays</h2></div></div>
<pre><span class="TYPEvec32"><span class="keyword">type</span> vec32</span> = <code class="type">(float, <a href="?package=ocaml&amp;module=Bigarray&amp;type=float32_elt">Bigarray.float32_elt</a>, <a href="?package=ocaml&amp;module=Bigarray&amp;type=fortran_layout">Bigarray.fortran_layout</a>) <a href="?package=ocaml&amp;module=Bigarray.Array1&amp;type=t">Bigarray.Array1.t</a></code></pre>
<pre><span class="TYPEvec64"><span class="keyword">type</span> vec64</span> = <code class="type">(float, <a href="?package=ocaml&amp;module=Bigarray&amp;type=float64_elt">Bigarray.float64_elt</a>, <a href="?package=ocaml&amp;module=Bigarray&amp;type=fortran_layout">Bigarray.fortran_layout</a>) <a href="?package=ocaml&amp;module=Bigarray.Array1&amp;type=t">Bigarray.Array1.t</a></code></pre>
<pre><span class="TYPEvec"><span class="keyword">type</span> vec</span> = <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=vec64">vec64</a></code></pre>
<pre><span class="TYPEmat32"><span class="keyword">type</span> mat32</span> = <code class="type">(float, <a href="?package=ocaml&amp;module=Bigarray&amp;type=float32_elt">Bigarray.float32_elt</a>, <a href="?package=ocaml&amp;module=Bigarray&amp;type=fortran_layout">Bigarray.fortran_layout</a>) <a href="?package=ocaml&amp;module=Bigarray.Array2&amp;type=t">Bigarray.Array2.t</a></code></pre>
<pre><span class="TYPEmat64"><span class="keyword">type</span> mat64</span> = <code class="type">(float, <a href="?package=ocaml&amp;module=Bigarray&amp;type=float64_elt">Bigarray.float64_elt</a>, <a href="?package=ocaml&amp;module=Bigarray&amp;type=fortran_layout">Bigarray.fortran_layout</a>) <a href="?package=ocaml&amp;module=Bigarray.Array2&amp;type=t">Bigarray.Array2.t</a></code></pre>
<pre><span class="TYPEmat"><span class="keyword">type</span> mat</span> = <code class="type"><a href="?package=bin_prot&amp;module=Common&amp;type=mat64">mat64</a></code></pre>
<div class="info"><div class="info"><h2 id="2_TITLE">Miscellaneous</h2></div></div>
<pre><span class="VALcopy_htbl_list"><span class="keyword">val</span> copy_htbl_list</span> : <code class="type">('a, 'b) <a href="?package=ocaml&amp;module=Hashtbl&amp;type=t">Hashtbl.t</a> -&gt; ('a * 'b) list -&gt; ('a, 'b) <a href="?package=ocaml&amp;module=Hashtbl&amp;type=t">Hashtbl.t</a></code></pre><div class="info"><div class="info"><code class="code">copy_htbl_list htbl lst</code> adds all <code class="code">(key, value)</code> pairs in <code class="code">lst</code>
    to hash table <code class="code">htbl</code>.</div></div>
<pre><span class="VALvariant_of_int"><span class="keyword">val</span> variant_of_int</span> : <code class="type">int -&gt; [&gt;  ]</code></pre>
<div class="info"><div class="info"><h2 id="2_TITLE">NOTE: unsafe functions!!!</h2></div></div>
<pre><span class="VALunsafe_blit_buf"><span class="keyword">val</span> unsafe_blit_buf</span> : <code class="type">src_pos:int -&gt; src:<a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; dst_pos:int -&gt; dst:<a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; len:int -&gt; unit</code></pre>
<pre><span class="VALunsafe_blit_string_buf"><span class="keyword">val</span> unsafe_blit_string_buf</span> : <code class="type">src_pos:int -&gt; string -&gt; dst_pos:int -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; len:int -&gt; unit</code></pre>
<pre><span class="VALunsafe_blit_buf_string"><span class="keyword">val</span> unsafe_blit_buf_string</span> : <code class="type">src_pos:int -&gt; <a href="?package=bin_prot&amp;module=Common&amp;type=buf">buf</a> -&gt; dst_pos:int -&gt; string -&gt; len:int -&gt; unit</code></pre>
</div>