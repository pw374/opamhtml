<div class="ocaml_toplevel_module"><div class="info">Output buffer</div>
<pre><code><span class="TYPEt"><span class="keyword">type</span> t</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="keyword">mutable</span> <span class="TYPEELTt.o_s">o_s</span> : <code class="type">string</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Buffer string</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="keyword">mutable</span> <span class="TYPEELTt.o_max_len">o_max_len</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Same as <code class="code">String.length s</code></div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="keyword">mutable</span> <span class="TYPEELTt.o_len">o_len</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Length of the data present in the buffer = current position
        in the buffer</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="keyword">mutable</span> <span class="TYPEELTt.o_offs">o_offs</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Length of data written and flushed out of the buffer.
        The total number of bytes written to the buffer
        is therefore <code class="code">o_offs + o_len</code>.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.o_init_len">o_init_len</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Initial length of the buffer</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.o_make_room">o_make_room</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; unit</code>;</code></td><td class="typefieldcomment" align="left"><div class="info"><code class="code">make_room buf n</code> must provide space for at least the requested
    number of bytes <code class="code">n</code>, typically by reallocating a larger buffer
    string or by flushing the data to a channel.
    This function is only called when there is not enough space for <code class="code">n</code>
    bytes.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="keyword">mutable</span> <span class="TYPEELTt.o_shared">o_shared</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_share.Wr&amp;type=tbl">Bi_share.Wr.tbl</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Hash table used to map shared objects to positions in the input stream.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTt.o_shared_init_len">o_shared_init_len</span> : <code class="type">int</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Initial length of the <code class="code">o_shared</code> table.</div></td></tr><tr><td>}</td></tr></table>
<pre><span class="VALreally_extend"><span class="keyword">val</span> really_extend</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; unit</code></pre><div class="info"><div class="info">Default make_room function: reallocate a larger buffer string.</div></div>
<pre><span class="VALflush_to_channel"><span class="keyword">val</span> flush_to_channel</span> : <code class="type"><a href="?package=ocaml&amp;module=Pervasives&amp;type=out_channel">Pervasives.out_channel</a> -&gt; <a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; unit</code></pre><div class="info"><div class="info">Alternate make_room function: write to an out_channel.</div></div>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?make_room:(<a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; unit) -&gt; ?shrlen:int -&gt; int -&gt; <a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a></code></pre><div class="info"><div class="info">Create a buffer.  The default <code class="code">make_room</code> function is <code class="code">really_extend</code>.<div class="parameters"><div class="param_info"><code class="code">shrlen</code> : initial size of the table used to store shared values.</div></div></div></div>
<pre><span class="VALcontents"><span class="keyword">val</span> contents</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; string</code></pre><div class="info"><div class="info">Returns the data currently in the buffer.</div></div>
<pre><span class="VALcreate_channel_writer"><span class="keyword">val</span> create_channel_writer</span> : <code class="type">?len:int -&gt; ?shrlen:int -&gt; <a href="?package=ocaml&amp;module=Pervasives&amp;type=out_channel">Pervasives.out_channel</a> -&gt; <a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a></code></pre>
<pre><span class="VALflush_channel_writer"><span class="keyword">val</span> flush_channel_writer</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Pair of convenience functions for creating a buffer that
    flushes data to an out_channel when it is full.</div></div>
<pre><span class="VALcreate_output_writer"><span class="keyword">val</span> create_output_writer</span> : <code class="type">?len:int -&gt; ?shrlen:int -&gt; &lt; output : string -&gt; int -&gt; int -&gt; int; .. &gt; -&gt; <a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a></code></pre>
<pre><span class="VALflush_output_writer"><span class="keyword">val</span> flush_output_writer</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Pair of convenience functions for creating a buffer that
     flushes data to an object when it is full.</div></div>
<pre><span class="VALextend"><span class="keyword">val</span> extend</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; unit</code></pre><div class="info"><div class="info">Guarantee that the buffer string has enough room for n additional bytes.</div></div>
<pre><span class="VALalloc"><span class="keyword">val</span> alloc</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; int -&gt; int</code></pre><div class="info"><div class="info"><code class="code">alloc buf n</code> makes room for <code class="code">n</code> bytes and returns the position
    of the first byte in the buffer string <code class="code">buf.s</code>.
    It behaves as if <code class="code">n</code> arbitrary bytes were added and it is
    the user's responsibility to set them to some meaningful values
    by accessing <code class="code">buf.s</code> directly.</div></div>
<pre><span class="VALadd_string"><span class="keyword">val</span> add_string</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; string -&gt; unit</code></pre><div class="info"><div class="info">Add a string to the buffer.</div></div>
<pre><span class="VALadd_substring"><span class="keyword">val</span> add_substring</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; string -&gt; int -&gt; int -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">add_substring dst src srcpos len</code> copies <code class="code">len</code> bytes from
     string <code class="code">src</code> to buffer <code class="code">dst</code> starting from position <code class="code">srcpos</code>.</div></div>
<pre><span class="VALadd_char"><span class="keyword">val</span> add_char</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; char -&gt; unit</code></pre><div class="info"><div class="info">Add a byte to the buffer.</div></div>
<pre><span class="VALadd_char2"><span class="keyword">val</span> add_char2</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; char -&gt; char -&gt; unit</code></pre><div class="info"><div class="info">Add two bytes to the buffer.</div></div>
<pre><span class="VALadd_char4"><span class="keyword">val</span> add_char4</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; char -&gt; char -&gt; char -&gt; char -&gt; unit</code></pre><div class="info"><div class="info">Add four bytes to the buffer.</div></div>
<pre><span class="VALunsafe_add_char"><span class="keyword">val</span> unsafe_add_char</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; char -&gt; unit</code></pre><div class="info"><div class="info">Add a byte to the buffer without checking that there is enough
     room for it.</div></div>
<pre><span class="VALclear"><span class="keyword">val</span> clear</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Remove any data present in the buffer and in the table holding
      shared objects.</div></div>
<pre><span class="VALreset"><span class="keyword">val</span> reset</span> : <code class="type"><a href="?package=biniou&amp;module=Bi_outbuf&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Remove any data present in the buffer and reset it to its original
      size.
      Remove any data present in the table holding shared objects
      and reset it to its original size.</div></div>
</div>